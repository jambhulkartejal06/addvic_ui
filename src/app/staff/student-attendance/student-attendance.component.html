<mat-card class="example-card">
    <mat-card-header class="text">
    <mat-card-title>Attendance Form</mat-card-title>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-card-content>
        <form class="example-form" [formGroup]="studentAttendanceForm">
            <table class="example-full-width" cellspacing="0">
                 <tr>
                    <td>
                        <mat-form-field appearance="outline">
                            <mat-label>Courses</mat-label>
                            <mat-select>
                            <mat-option *ngFor="let course of courses" (click)="onCourseSelect(course)" [value]="course.course_id">
                              {{course.course_name}}
                            </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </td>
                 </tr> 
                 <tr>
                    <td>
                        <mat-form-field appearance="outline">
                        <mat-label>Batches</mat-label>
                            <mat-select>
                                  <mat-option *ngFor="let batch of batches" (click)="onBatchSelect(batch)" [value]="batch.batch_id">
                                    {{batch.batch}}
                                </mat-option>
                            </mat-select>
                            </mat-form-field>
                           </td>
                          </tr>
                          <tr>
                          <td>
                         
                            <mat-form-field appearance="outline" class="label-width">
                              <mat-label>Choose a date</mat-label>
                             <input matInput [(ngModel)]="studentAttendanceObj.date" [matDatepicker]="picker" formControlName="date">
                             <mat-datepicker-toggle matSuffix [for]="picker">
                               <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                             </mat-datepicker-toggle>
                             <mat-datepicker #picker></mat-datepicker>


                              <!-- <input matInput [(ngModel)]="studentAttendanceObj.date" [matDatepicker]="picker" formControlName="date" >
                              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                              <mat-datepicker #picker></mat-datepicker>  -->

                               <!-- <mat-form-field>  -->
                                <!-- <input matInput
                                [(ngModel)]="studentAttendanceObj.date"
                                  [matDatepicker]="picker"
                                  placeholder="Different locale"
                                  formControlName="date"
                                  (dateChange)="setDate($event.value)">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker> -->
                              <!-- </mat-form-field> -->


                             </mat-form-field> 
                          </td>  
                          </tr>

                      </table>
         
        <div class="mat-elevation-z8" *ngIf="studentList.length !== 0">
            <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
                <ng-container matColumnDef="firstName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>FirstName</th>
                  <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
                </ng-container>                            
              
                 <ng-container matColumnDef="lastName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>LastName</th>
                  <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
                </ng-container>

        
               <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Attendance</th>
                    <td mat-cell *matCellDef="let element">  
                     <mat-checkbox [(ngModel)]="element.checked" formControlName="checked" ></mat-checkbox>
                    <!-- <mat-checkbox class="example-margin" (click)="checkBoxSelectedValue('Present')" [value]="Present" [checked]="Present">Present</mat-checkbox>
                    <mat-checkbox class="example-margin" (click)="checkBoxSelectedValue('Absent')" [value]="Absent" [checked]="Absent">Absent</mat-checkbox> -->
                    </td>
                  </ng-container>
                     
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <mat-paginator [pageSizeOptions]="[25]"></mat-paginator> 
                </div>

                <table>
                <tr>
                  <td>
                      <mat-form-field appearance="outline" class="label-width">
                          <mat-label>Comment</mat-label>
                          <textarea matInput [(ngModel)]="studentAttendanceObj.detail" name="detail" formControlName="detail" required fxFlex></textarea>
                      </mat-form-field>
                  </td>
              </tr>
              </table>
          
                    <mat-card-actions>
                <button mat-flat-button (click)="onSubmitAttendance()" (click)="clearForm()" color="primary" type="submit">Submit</button>
             </mat-card-actions>
            </form>
          </mat-card-content>
         
               </mat-card>

